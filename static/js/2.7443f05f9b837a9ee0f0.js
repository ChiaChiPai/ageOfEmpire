webpackJsonp([2],{"/me7":function(t,e,i){t.exports=i.p+"static/img/egos.565bf3e.png"},"93YD":function(t,e,i){"use strict";var a={props:{childProductCard:Array,cardSize:Boolean},data:function(){return{carts:[]}},methods:{getProductDetail:function(t){this.$router.push("/detail/"+t)},addToCart:function(t,e){var i=this,a=this;a.$http.get("https://vue-course-api.hexschool.io/api/csc98104/cart").then(function(s){a.carts=s.data.data.carts;var r=a.carts.find(function(t){return t.product.title===e}),c=0;if(r){c=r.qty;var n="https://vue-course-api.hexschool.io/api/csc98104/cart/"+r.id;i.$http.delete(n).then(function(t){console.log(t)})}var o={product_id:t,qty:c+1};i.$http.post("https://vue-course-api.hexschool.io/api/csc98104/cart",{data:o}).then(function(t){a.$bus.$emit("updateCart")})})}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"row"},t._l(t.childProductCard,function(e){return i("div",{key:e.id,staticClass:"col-md-6 col-6 my-3",class:{"col-lg-4":!t.cardSize,"col-lg-3":t.cardSize}},[i("div",{staticClass:"card product-section-bg text-center",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.getProductDetail(e.id)}}},[i("div",{staticClass:"position-relative"},[i("img",{staticClass:"product-img",attrs:{src:e.imageUrl,alt:"..."}}),t._v(" "),i("span",{staticClass:"badge badge-secondary position-absolute",staticStyle:{right:"0",bottom:"0"}},[t._v(t._s(e.category))])]),t._v(" "),i("div",{staticClass:"px-3 py-2"},[i("h4",{staticClass:"card-title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"card-text text-truncate"},[t._v(t._s(e.content))]),t._v(" "),e.price?i("del",{staticClass:"card-text"},[t._v("售價 $ "+t._s(e.origin_price))]):i("span",{staticClass:"card-text"},[t._v("售價 $ "+t._s(e.origin_price))]),t._v(" "),e.price?i("span",{staticClass:"h5 d-inline-block mb-0",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price))]):t._e()]),t._v(" "),i("div",{staticClass:"d-flex d-md-block pb-0 pb-md-2",staticStyle:{width:"100%"}},[i("a",{staticClass:"btn product-btn product-btn-left",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.getProductDetail(e.id)}}},[t._v("查看更多")]),t._v(" "),i("a",{staticClass:"btn product-btn product-btn-right",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.addToCart(e.id,e.title)}}},[t._v("加入購物")])])])])}),0)])},staticRenderFns:[]},r=i("VU/8")(a,s,!1,null,null,null);e.a=r.exports},CFob:function(t,e,i){t.exports=i.p+"static/img/rider.6d3504a.png"},Esss:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("cMGX"),s=i("93YD"),r=i("tWc7"),c=i("7t+N"),n=i.n(c),o={components:{Pagination:a.a,ProductCard:s.a,MarketCart:r.a},data:function(){return{allProducts:[],pageProducts:[],filterProducts:[],singleProduct:{},tempMenu:"全部商品",pagination:{},sizeCol4:!1,isLoading:!1}},created:function(){this.getAllProducts(),this.getPageProducts(),this.getParams(),setTimeout(function(){var t=n()("#shopTop").offset().top;n()("html, body").animate({scrollTop:t},800)},10)},methods:{getAllProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/csc98104/products/all").then(function(e){t.allProducts=e.data.products,t.isLoading=!1})},getPageProducts:function(){var t="https://vue-course-api.hexschool.io/api/csc98104/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),e=this;e.isLoading=!0,this.$http.get(t).then(function(t){e.pageProducts=t.data.products,e.pagination=t.data.pagination,e.isLoading=!1})},getParams:function(){this.$route.query.category&&(this.tempMenu=this.$route.query.category)},tempMenuSwitch:function(t){this.tempMenu=t.target.text,this.$route.query.category&&this.$router.push("/shop")}},computed:{productsFilter:function(){var t=this,e=t.allProducts.filter(function(e){return"全部商品"===t.tempMenu?e:t.tempMenu===e.category});return t.filterProducts=e,e.length>10?t.pageProducts.filter(function(e){return"全部商品"===t.tempMenu?e:t.tempMenu===e.category}):e}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"shop-banner"}),t._v(" "),a("div",{staticClass:"shop-bg",attrs:{id:"shopTop"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 col-lg-4"},[a("div",{staticClass:"sideBar my-3 d-flex justify-content-center"},[a("ul",{staticClass:"sideBar-menu h3 pt-5 pl-0"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempMenuSwitch(e)}}},[a("img",{attrs:{width:"40",src:i("tBVn"),alt:""}}),t._v("全部商品")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempMenuSwitch(e)}}},[a("img",{attrs:{width:"40",src:i("CFob"),alt:""}}),t._v("專屬傭兵")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempMenuSwitch(e)}}},[a("img",{attrs:{width:"40",src:i("SgIB"),alt:""}}),t._v("獨家技術")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempMenuSwitch(e)}}},[a("img",{attrs:{width:"40",src:i("/me7"),alt:""}}),t._v("十大建設")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempMenuSwitch(e)}}},[a("img",{attrs:{width:"40",src:i("pVtV"),alt:""}}),t._v("嗆人必備")])])])])]),t._v(" "),a("div",{staticClass:"col-md-7 col-lg-8"},[0!==t.productsFilter.length?a("ProductCard",{attrs:{childProductCard:t.productsFilter}}):a("h5",{staticClass:"text-warning h4 mt-3 text-center"},[t._v("小編正在趕上架喔....")]),t._v(" "),t.filterProducts.length>10?a("Pagination",{staticClass:"d-flex justify-content-center",attrs:{childPaginations:t.pagination,cardSize:t.sizeCol4},on:{changePage:t.getPageProducts}}):t._e()],1)])])]),t._v(" "),a("MarketCart")],1)},staticRenderFns:[]},u=i("VU/8")(o,l,!1,null,null,null);e.default=u.exports},SgIB:function(t,e,i){t.exports=i.p+"static/img/crown-removebg-preview.e75cd33.png"},pVtV:function(t,e,i){t.exports=i.p+"static/img/lion.8952433.png"},tBVn:function(t,e,i){t.exports=i.p+"static/img/lion-all.bee916d.png"}});
//# sourceMappingURL=2.7443f05f9b837a9ee0f0.js.map