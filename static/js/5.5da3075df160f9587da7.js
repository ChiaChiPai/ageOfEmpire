webpackJsonp([5],{"0axU":function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"py-4 px-3 mb-3",staticStyle:{border:"2px solid rgb(70, 39, 5)"}},[a("h4",{staticClass:"text-dark text-center py-1 mb-0 cart-cal-header"},[t._v("本次購物清單")]),t._v(" "),t._l(t.childCarts,function(e,s){return a("div",{key:s},[a("a",{staticClass:"p-2 text-dark d-flex justify-content-between align-items-center",attrs:{href:"#"}},[a("img",{attrs:{width:"50",src:e.product.imageUrl,alt:""}}),t._v(" "),a("p",{staticClass:"h5 mb-0 pl-4"},[t._v(" "+t._s(e.product.title)+" "),a("span",{staticClass:"d-block h6 mb-0"},[t._v(" x "+t._s(e.qty))])]),t._v(" "),a("span",{staticClass:"h5 mb-0 ml-auto"},[t._v(t._s(t._f("currency")(e.total)))])]),t._v(" "),a("hr",{staticClass:"my-0",staticStyle:{"border-color":"rgb(70, 39, 5)"}})])})],2)])},staticRenderFns:[]},r=a("VU/8")({props:["childCarts"]},s,!1,null,null,null);e.a=r.exports},Dx72:function(t,e,a){t.exports=a.p+"static/img/abond.041a269.png"},GexB:function(t,e,a){t.exports=a.p+"static/img/firehouse.bdbed54.png"},Jonx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("TXt4"),r=a("0axU"),i=a("7t+N"),l=a.n(i),o={components:{paymentDetail:s.a,buyList:r.a},data:function(){return{carts:[],price:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1}},created:function(){this.getPrice(),setTimeout(function(){var t=l()("#infoTop").offset().top;l()("html, body").animate({scrollTop:t},0)},10)},methods:{getPrice:function(){var t=this;t.isLoading=!0,t.$http.get("https://vue-course-api.hexschool.io/api/csc98104/cart").then(function(e){t.isLoading=!1,t.price=e.data.data,t.carts=e.data.data.carts})},creatOrder:function(){var t=this;t.isLoading=!0,t.$validator.validate().then(function(e){e?t.$http.post("https://vue-course-api.hexschool.io/api/csc98104/order",{data:t.form}).then(function(e){t.isLoading=!1,t.$router.push("/cart/checkout/"+e.data.orderId)}):(t.isLoading=!1,console.log("欄位不完整"))})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[s("template",{slot:"default"},[s("img",{attrs:{width:"400",src:a("qnOV"),alt:""}})])],2),t._v(" "),s("div",{staticClass:"cart-bg"},[s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("div",{staticClass:"py-5 row"},[s("form",{staticClass:"col-lg-8 p-3",staticStyle:{border:"2px solid rgb(70, 39, 5)"},attrs:{id:"infoTop"},on:{submit:function(e){return e.preventDefault(),t.creatOrder(e)}}},[s("h4",{staticClass:"text-dark text-center py-1 mb-0 cart-cal-header mt-2 mb-3"},[t._v("購買資訊")]),t._v(" "),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-6"},[s("label",{staticClass:"h6 font-weight-bold",attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control bg-transparent",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t._v(" "),t.errors.has("name")?s("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),t._v(" "),s("div",{staticClass:"form-group col-md-6"},[s("label",{staticClass:"h6 font-weight-bold",attrs:{for:"tel"}},[t._v("手機號碼")]),t._v(" "),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|digits:10|cellphone",expression:"'required|numeric|digits:10|cellphone'"},{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control bg-transparent",class:{"is-invalid":t.errors.has("手機號碼")},attrs:{type:"tel",name:"手機號碼",id:"tel",placeholder:"請輸入收件者手機",maxlength:"10"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t._v(" "),t.errors.has("手機號碼")?s("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("手機號碼")))]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"h6 font-weight-bold",attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control bg-transparent",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t._v(" "),t.errors.has("email")?s("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"h6 font-weight-bold",attrs:{for:"usertel"}},[t._v("地址")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control bg-transparent",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",id:"usertel",placeholder:"請輸入地址",name:"address"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t._v(" "),t.errors.has("address")?s("span",{staticClass:"text-danger"},[t._v("地址必須輸入")]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"h6 font-weight-bold",attrs:{for:"comment"}},[t._v("留言")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control bg-transparent",staticStyle:{height:"125px"},attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),s("div",{staticClass:"col-lg-4 d-none d-lg-block"},[s("buyList",{attrs:{childCarts:t.carts}}),t._v(" "),s("paymentDetail",{attrs:{childPrice:t.price}})],1)])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center py-5",staticStyle:{"border-bottom":"2px dashed black"}},[s("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[s("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"130px",height:"90px"},attrs:{src:a("Dx72"),alt:""}}),t._v(" "),s("p",{staticClass:"mb-1 h6"},[t._v("Step 1")]),t._v(" "),s("p",{staticClass:"h4 p-1 mb-0",staticStyle:{border:"4px double black"}},[t._v("確認購買")])]),t._v(" "),s("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[s("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"150px",height:"90px"},attrs:{src:a("sxY3"),alt:""}}),t._v(" "),s("p",{staticClass:"mb-1 h6"},[t._v("Step 2")]),t._v(" "),s("p",{staticClass:"h4 p-1 mb-0 bg-dark text-white",staticStyle:{border:"4px double black"}},[t._v("填寫資料")])]),t._v(" "),s("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[s("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"110px",height:"90px"},attrs:{src:a("GexB"),alt:""}}),t._v(" "),s("p",{staticClass:"mb-1 h6"},[t._v("Step 3")]),t._v(" "),s("p",{staticClass:"h4 p-1 mb-0",staticStyle:{border:"4px double black"}},[t._v("完成訂單")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center mt-4"},[e("button",{staticClass:"btn btn-dark w-100"},[this._v("送出訂單")])])}]},c=a("VU/8")(o,n,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=5.5da3075df160f9587da7.js.map