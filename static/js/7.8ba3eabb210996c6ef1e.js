webpackJsonp([7],{GexB:function(t,e,s){t.exports=s.p+"static/img/firehouse.bdbed54.png"},nGek:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("TXt4"),i=s("7t+N"),c=s.n(i),n={components:{paymentDetail:a.a},data:function(){return{carts:[],price:{},isLoading:!1,couponCode:"",tempProduct:{}}},created:function(){this.getCart(),setTimeout(function(){var t=c()("#cartTop").offset().top;c()("html, body").animate({scrollTop:t},0)},10)},methods:{getCart:function(){var t=this;t.isLoading=!0,t.$http.get("https://vue-course-api.hexschool.io/api/csc98104/cart").then(function(e){t.isLoading=!1,t.carts=e.data.data.carts,t.price=e.data.data})},deleteCart:function(t){var e=this,s=this,a="https://vue-course-api.hexschool.io/api/csc98104/cart/"+t;s.isLoading=!0,s.$http.delete(a).then(function(t){console.log(t),s.isLoading=!1,e.getCart()})},enterCoupon:function(){var t=this,e=this;e.isLoading=!0,e.$http.post("https://vue-course-api.hexschool.io/api/csc98104/coupon",{data:{code:e.couponCode}}).then(function(s){e.isLoading=!1,t.getCart()})},changeQty:function(t,e,s){var a=this,i=this;i.isLoading=!0;var c="https://vue-course-api.hexschool.io/api/csc98104/cart/"+s;i.$http.delete(c).then(function(s){var c={product_id:e,qty:t};i.$http.post("https://vue-course-api.hexschool.io/api/csc98104/cart",{data:c}).then(function(t){a.getCart(),i.isLoading=!1})})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[a("template",{slot:"default"},[a("img",{attrs:{width:"400",src:s("qnOV"),alt:""}})])],2),t._v(" "),a("div",{staticClass:"cart-bg"},[a("div",{staticClass:"container",attrs:{id:"cartTop"}},[t._m(0),t._v(" "),a("div",{staticClass:"pb-5 row flex-md-row"},[a("div",{staticClass:"py-5 col-md-8"},[a("div",{staticClass:"d-flex justify-content-center"},[0!==t.carts.length?a("table",{staticClass:"font-weight-bolder h6",staticStyle:{"border-top":"4px double rgb(70, 39, 5)"},attrs:{rules:"rows",cellpadding:"10"}},[t._m(1),t._v(" "),t._l(t.carts,function(e){return a("tbody",{key:e.id},[a("tr",[a("td",{staticClass:"text-center"},[a("a",{staticClass:"text-dark btn",staticStyle:{padding:"0"},attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.deleteCart(e.id)}}},[a("i",{staticClass:"far fa-trash-alt h5"})])]),t._v(" "),a("td",{staticClass:"d-none d-lg-table-cell",staticStyle:{width:"20%",padding:"0.3rem"}},[a("img",{staticClass:"img-fluid",staticStyle:{"min-width":"100px"},attrs:{src:e.product.imageUrl,alt:e.product.title}})]),t._v(" "),a("td",{staticClass:"text-center"},[a("p",{staticClass:"d-block mb-0"},[t._v(t._s(e.product.title))]),t._v(" "),e.coupon?a("div",{staticClass:"badge badge-success"},[t._v("已套用優惠")]):t._e()]),t._v(" "),a("td",{staticClass:"text-center d-none d-lg-table-cell"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-light",staticStyle:{"border-radius":"0"},attrs:{type:"button"},on:{click:function(s){return t.changeQty(e.qty-1,e.product.id,e.id)}}},[t._v("-")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control text-center border-light",attrs:{type:"text"},domProps:{value:e.qty},on:{input:function(s){s.target.composing||t.$set(e,"qty",s.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-light",staticStyle:{"border-radius":"0"},attrs:{type:"button"},on:{click:function(s){return t.changeQty(e.qty+1,e.product.id,e.id)}}},[t._v("+")])])])]),t._v(" "),a("td",{staticClass:"d-lg-none"},[a("div",{staticClass:"input-group mb-3",attrs:{id:"inputGroupSelect"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"custom-select select-text-center",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"qty",s.target.multiple?a:a[0])},function(s){return t.changeQty(e.qty,e.product.id,e.id)}]}},[a("option",{staticClass:"select_style",attrs:{selected:"",disabled:""}},[t._v("數量")]),t._v(" "),t._l(10,function(s){return a("option",{key:s,staticClass:"select_style",domProps:{value:s}},[t._v(t._s(s)+" "+t._s(e.unit))])})],2)])]),t._v(" "),e.coupon?a("td",{staticClass:"text-right"},[a("del",{},[t._v(t._s(t._f("currency")(e.total)))]),t._v(" "),a("p",{staticClass:"mb-0 text-danger"},[t._v(t._s(t._f("currency")(e.final_total)))])]):a("td",{staticClass:"text-right"},[t._v("\n                    "+t._s(t._f("currency")(e.total))+"\n                  ")])])])})],2):0===t.carts.length?a("h5",[t._v("購物車沒有商品喔，趕快去"),a("a",{staticClass:"text-light font-weight-bold",attrs:{href:"#"}},[t._v(" 商城 ")]),t._v("逛逛!!")]):t._e()])]),t._v(" "),a("div",{staticClass:"my-5 col-md-4"},[a("paymentDetail",{attrs:{childPrice:t.price}}),t._v(" "),a("div",{staticClass:"input-group input-group-sm mt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control couple-input",staticStyle:{background:"rgba(0, 0, 0, 0.13)"},attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn-dark btn",staticStyle:{"border-radius":"0"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.enterCoupon(e)}}},[t._v("套用優惠碼")])])]),t._v(" "),0!==t.carts.length?a("div",{staticClass:"text-center mt-3"},[a("router-link",{staticClass:"btn btn-dark btn-lg w-100",attrs:{to:"cart/customerinfo"}},[t._v("下一步")])],1):t._e()],1)])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center py-5",staticStyle:{"border-bottom":"2px dashed black"}},[a("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[a("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"150px",height:"90px"},attrs:{src:s("sxY3"),alt:""}}),t._v(" "),a("p",{staticClass:"mb-1 h6"},[t._v("Step 1")]),t._v(" "),a("p",{staticClass:"h4 p-1 bg-dark text-white mb-0",staticStyle:{border:"4px double black"}},[t._v("確認購買")])]),t._v(" "),a("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[a("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"110px",height:"90px"},attrs:{src:s("GexB"),alt:""}}),t._v(" "),a("p",{staticClass:"mb-1 h6"},[t._v("Step 2")]),t._v(" "),a("p",{staticClass:"h4 p-1 mb-0",staticStyle:{border:"4px double black"}},[t._v("填寫資料")])]),t._v(" "),a("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[a("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"110px",height:"90px"},attrs:{src:s("GexB"),alt:""}}),t._v(" "),a("p",{staticClass:"mb-1 h6"},[t._v("Step 3")]),t._v(" "),a("p",{staticClass:"h4 p-1 mb-0",staticStyle:{border:"4px double black"}},[t._v("完成訂單")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"text-white bg-dark",staticStyle:{"border-bottom":"4px double rgb(70, 39, 5)"}},[s("th",{attrs:{width:"35"}}),t._v(" "),s("th",{staticClass:"d-none d-lg-table-cell",attrs:{width:"100"}}),t._v(" "),s("th",{staticClass:"text-center",attrs:{width:"200"}},[t._v("品名")]),t._v(" "),s("th",{staticClass:"text-center d-none d-lg-table-cell",attrs:{width:"140"}},[t._v("數量")]),t._v(" "),s("th",{staticClass:"text-center d-lg-none",attrs:{width:"110"}},[t._v("數量")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{width:"100"}},[t._v("價錢")])])}]},l=s("VU/8")(n,o,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=7.8ba3eabb210996c6ef1e.js.map