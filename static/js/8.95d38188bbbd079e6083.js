webpackJsonp([8],{C1lx:function(t,e){},jh85:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("tWc7"),s=a("7t+N"),r=a.n(s),c={components:{MarketCart:i.a},data:function(){return{productDetail:{},hotProducts:[],detailId:"",isLoading:!1}},created:function(){this.detailId=this.$route.params.detailId,this.getProductDetail(),this.getHotProducts(),r()("html, body").animate({scrollTop:0},0)},methods:{getHotProducts:function(){var t=this;t.isLoading=!0,t.$http.get("https://vue-course-api.hexschool.io/api/csc98104/products/all").then(function(e){var a=e.data.products;t.isLoading=!1;for(var i=0;i<4;i++){var s=Math.floor(Math.random()*a.length);t.hotProducts.push(a[s]),a.splice(s,1)}})},getProductDetail:function(){var t=this;t.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/csc98104/product/"+t.detailId;t.$http.get(e).then(function(e){t.productDetail=e.data.product,t.productDetail.num=1,t.isLoading=!1})},goBackCategory:function(){vm.$router.push({path:"/shop",query:{category:this.productDetail.category}})},hotProductDetail:function(t){this.detailId=t,this.$router.push("/detail/"+this.detailId),this.getProductDetail()},cartUpdate:function(t){this.detailId=t,this.$router.push("/detail/"+t),this.getProductDetail()},addToCart:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this;i.isLoading=!0;i.$http.get("https://vue-course-api.hexschool.io/api/csc98104/cart").then(function(s){i.carts=s.data.data.carts;var r=i.carts.find(function(t){return t.product.title===e}),c=0;if(r){c=r.qty;var o="https://vue-course-api.hexschool.io/api/csc98104/cart/"+r.id;i.$http.delete(o).then(function(t){console.log(t)})}var l={product_id:t,qty:c+a};i.$http.post("https://vue-course-api.hexschool.io/api/csc98104/cart",{data:l}).then(function(t){i.isLoading=!1,i.$bus.$emit("updateCart")})})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[i("template",{slot:"default"},[i("img",{attrs:{width:"400",src:a("qnOV"),alt:""}})])],2),t._v(" "),i("div",{staticClass:"detail-bg",attrs:{id:"headTop"}},[i("nav",{staticClass:"pt-4 pl-2",attrs:{"aria-label":"breadcrumb"}},[i("ol",{staticClass:"breadcrumb",staticStyle:{"background-color":"transparent"}},[t._m(0),t._v(" "),i("li",{staticClass:"breadcrumb-item breadcrumb-text"},[i("router-link",{attrs:{to:"/shop"}},[t._v("世紀商城")])],1),t._v(" "),i("li",{staticClass:"breadcrumb-item breadcrumb-text"},[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goBackCategory(e)}}},[t._v(t._s(t.productDetail.category))])]),t._v(" "),i("li",{staticClass:"breadcrumb-item breadcrumb-text active",attrs:{"aria-current":"page"}},[t._v(t._s(t.productDetail.title))])])]),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"row ",staticStyle:{border:"3px solid rgb(70, 39, 5)"}},[i("div",{staticClass:"col-4 col-md-3 detail-border d-flex justify-content-center align-items-center"},[i("div",{},[i("img",{attrs:{src:t.productDetail.imageUrl,width:"100%",alt:""}})])]),t._v(" "),i("div",{staticClass:"col-8 col-md-5 detail-border"},[i("h5",{staticClass:"text-center mt-3"},[t._v("商品描述:")]),t._v(" "),i("p",{staticStyle:{"line-height":"1.5rem"}},[t._v(t._s(t.productDetail.description))])]),t._v(" "),i("div",{staticClass:"col-md-4 detail-border d-flex flex-column justify-content-between"},[i("div",{staticClass:"mt-3"},[i("h5",{staticClass:"text-center h4 font-weight-bolder"},[t._v(t._s(t.productDetail.title))]),t._v(" "),i("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.productDetail.category))]),t._v(" "),i("p",{staticClass:"h6"},[t._v(t._s(t.productDetail.content))]),t._v(" "),i("hr",{staticStyle:{"border-width":"2spx"}})]),t._v(" "),i("div",{},[i("div",{staticClass:"d-flex flex-column"},[t.productDetail.price?i("del",{staticClass:"h6 ml-auto text-secondary"},[t._v("售價 $ "+t._s(t.productDetail.origin_price))]):i("div",{staticClass:"h6 ml-auto text-secondary"},[t._v("售價 $ "+t._s(t.productDetail.origin_price))]),t._v(" "),t.productDetail.price?i("div",{staticClass:"h5 ml-auto",staticStyle:{"font-weight":"900"}},[t._v("$ "+t._s(t.productDetail.price))]):t._e()]),t._v(" "),i("div",{staticClass:"input-group mb-3",attrs:{id:"inputGroupSelect"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.productDetail.num,expression:"productDetail.num"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.productDetail,"num",e.target.multiple?a:a[0])}}},[i("option",{staticClass:"select_style",attrs:{selected:"",disabled:""}},[t._v("請選擇商品數量")]),t._v(" "),t._l(10,function(e){return i("option",{key:e,staticClass:"select_style",domProps:{value:e}},[t._v(t._s(e)+" "+t._s(t.productDetail.unit))])})],2),t._v(" "),i("div",{staticClass:"input-group-append mb-2"},[i("a",{staticClass:"input-group-text hvr-icon-buzz",attrs:{href:"#",for:"inputGroupSelect"},on:{click:function(e){return e.preventDefault(),t.addToCart(t.productDetail.id,t.productDetail.title,t.productDetail.num)}}},[t._v("加入購物車 "),i("i",{staticClass:"fas fa-plus-circle hvr-icon"})])])])])])])]),t._v(" "),i("div",{staticClass:"container py-5"},[i("div",{staticClass:"row"},[t._m(1),t._v(" "),i("div",{staticClass:"col-md-4 mb-5"},[i("div",{staticClass:"detail-border",staticStyle:{margin:"0 -15px"}},[t._m(2),t._v(" "),t._l(t.hotProducts,function(e){return i("div",{key:e.id},[i("a",{staticClass:"p-2 text-dark d-flex justify-content-between align-items-center",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.hotProductDetail(e.id)}}},[i("img",{attrs:{width:"50",src:e.imageUrl,alt:""}}),t._v(" "),i("span",{staticClass:"h5 mb-0 pl-4"},[t._v(t._s(e.title)),i("h6",{staticClass:"text-secondary"},[t._v(t._s(e.content))])]),t._v(" "),i("span",{staticClass:"h5 mb-0 ml-auto"},[t._v(t._s(e.price))])]),t._v(" "),i("hr",{staticClass:"my-0",staticStyle:{"border-color":"rgb(70, 39, 5)"}})])})],2)])])]),t._v(" "),i("MarketCart",{on:{cartUpdateDetail:t.cartUpdate}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"breadcrumb-item breadcrumb-text"},[e("a",{attrs:{href:"#"}},[this._v("首頁")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-8"},[a("h4",{staticClass:"h4 text-center font-weight-bold"},[t._v("注意事項")]),t._v(" "),a("h5",{staticClass:"font-weight-bolder"},[t._v("選擇運送和交貨方式")]),t._v(" "),a("p",[t._v("\n            您在世紀商店下單訂購商品後，必須在結帳時選擇運送方式。您選擇的方式將會影響商品送達所需的時間。注意：商品無法運送至郵政信箱，且可用的運送選項因地區而異。\n          ")]),t._v(" "),a("h5",{staticClass:"font-weight-bolder"},[t._v("免運費")]),t._v(" "),a("p",[t._v("在某些地區，如果您訂購特定產品或訂單達到最低金額門檻，就可能享有免運費優惠。除非另有指定，否則適用免運費優惠時，將一律採用費用最低的運送方式。世紀商店可能會隨時變更或終止免運費優惠。")]),t._v(" "),a("h5",{staticClass:"font-weight-bolder"},[t._v("追蹤商品運送狀態")]),t._v(" "),a("p",[t._v("瞭解如何追蹤商品運送狀態。")]),t._v(" "),a("h5",{staticClass:"font-weight-bolder"},[t._v("分批出貨")]),t._v(" "),a("p",[t._v("訂單可能會分批寄出，商品一到貨就盡快讓您收到。您無法自行合併出貨，或自行將訂單商品分成多次運送。\n              結帳時，畫面顯示的運費是針對整筆訂單收取的費用。運送您的訂單商品時，我們會按每批出貨商品收取運費。\n              您只需針對運送的商品付款。不過您結帳之後，可能會看到一筆金額為訂單總金額的授權款項。\n              您可以根據每次出貨的狀態變更運送地址，或者完全取消出貨。\n              如要調整訂單內容，您必須針對每批出貨商品進行變更。\n              我們將以同一種運送方式寄送訂單中所有商品。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"text-center text-white py-2 mb-0 bg-dark"},[e("i",{staticClass:"fab fa-hotjar pulse"}),this._v("  熱銷商品  "),e("i",{staticClass:"fab fa-hotjar pulse"})])}]};var l=a("VU/8")(c,o,!1,function(t){a("C1lx")},null,null);e.default=l.exports}});
//# sourceMappingURL=8.95d38188bbbd079e6083.js.map