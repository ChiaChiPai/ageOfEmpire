{"version":3,"sources":["webpack:///./src/App.vue?bf50","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/bus.js","webpack:///./src/main.js","webpack:///./src/filter/Currency.js","webpack:///./src/filter/toDate.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Index","e","then","bind","Vue","use","Router","router","routes","path","redirect","component","children","Promise","all","meta","requiresAuth","prototype","$bus","VeeValidate","Validator","localize","TW","VueAxios","axios","VueAwesomeSwiper","config","productionTip","defaults","withCredentials","Loading","filter","num","Number","toFixed","replace","c","i","a","length","time","date","Date","toLocaleDateString","toLocaleTimeString","extend","validate","value","test","el","components","App","template","beforeEach","to","from","next","post","process","response","console","log","data","success"],"mappings":"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","file":"static/js/app.d3f9b20667648edea1eb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ce3d85b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ce3d85b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ce3d85b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n\n};\n</script>\n\n<style lang=\"scss\">\n  @import \"./assets/sass/all.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\n\n//使用路由懶加載提高效能\nconst Cart = () => import('../views/front/Cart.vue')\nconst CustomerInfo = () => import('../views/front/CustomerInfo.vue')\nconst Detail = () => import('../views/front/Detail.vue')\nconst Home = () => import('../views/front/Home.vue')\nconst Index = () => import('../views/front/Index.vue')\nconst CustomerCheckout = () => import('../views/front/CustomerCheckout.vue')\nconst Shop = () => import('../views/front/Shop.vue')\n\nconst Dashboard = () => import('../views/back/Dashboard.vue') \nconst Login = () => import('../views/back/Login.vue')\nconst Products = () => import('../views/back/Products.vue')\nconst Orders = () => import('../views/back/orders.vue')\nconst Coupon = () => import('../views/back/Coupon.vue')\n\n\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path:'*',\n      redirect: '/home', //使用者亂打會導回首頁\n    },\n    {\n      path: '',\n      name: 'Index',\n      component: Index,\n      redirect: '/home',  //如果什麼都沒有也會導回首頁\n      children:[\n        {\n          path: 'home',\n          name: 'Home',\n          component: Home,\n        },\n        {\n          path: 'shop',\n          name: 'Shop',\n          component: Shop,\n        },\n        {\n          path: 'detail/:detailId',\n          name: 'Detail',\n          component: Detail,\n        },\n        {\n          path: 'cart',\n          name: 'Cart',\n          component: Cart,\n        },\n        {\n          path: 'login',\n          name: 'Login',\n          component: Login,\n        },\n      ],\n    },\n    {\n      path: '/cart',\n      name: 'Index',\n      component: Index,\n      children:[\n        {\n          path: 'customerInfo',\n          name: 'CustomerInfo',\n          component: CustomerInfo,\n        },\n        {\n          path: 'checkout/:orderId',\n          name: 'CustomerCheckout',\n          component: CustomerCheckout,\n        },\n      ],\n    },\n\n    {\n      path: '/admin',\n      name: 'Dashboard',\n      component: Dashboard,\n      meta: { requiresAuth: true },\n      children:[\n        {\n          path: 'products',\n          name: 'Products',\n          component: Products,\n          meta: { requiresAuth: true },\n        },\n        {\n          path: 'coupon',\n          name: 'Coupon',\n          component: Coupon,\n          meta: { requiresAuth: true },\n        },\n        {\n          path: 'orders',\n          name: 'Orders',\n          component: Orders,\n          meta: { requiresAuth: true },\n        },\n      ],\n    },\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\r\n\r\nVue.prototype.$bus = new Vue();\r\n\r\n//Message\r\n//vm.$bus.$emit('message:push', message, status)\r\n//message(String): 訊息內容\r\n//status(string): Alert 樣式內容\r\n\r\n//購物車 icon 更新狀態\r\n//vm.$bus.$emit('updateCart');\n\n\n// WEBPACK FOOTER //\n// ./src/bus.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'; //第三方套件放在前面\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport 'Bootstrap';\nimport VeeValidate, { Validator } from 'vee-validate'   //匯入檔案\nimport TW from 'vee-validate/dist/locale/zh_TW'    //匯入語言包\nimport VueAwesomeSwiper from 'vue-awesome-swiper'\nimport 'swiper/dist/css/swiper.css'\n\nimport App from './App'; //自己寫的放後面\nimport router from './router';\nimport './bus';\nimport currencyFilter from './filter/Currency';\nimport toDate from './filter/toDate';\n\nVue.use(VeeValidate)  //啟用API\nValidator.localize('zh-TW', TW)  //啟用語言包\nVue.use(VueAxios, axios);\nVue.use(VueAwesomeSwiper)\n\nVue.config.productionTip = false;\naxios.defaults.withCredentials = true;\n\nVue.component('Loading',Loading); //因為 Loading 是元件，必須被啟用，這邊用的是全域啟用\n//將元件載入，可以在 vue template 中運用該套件但資料、方法仍然與執行中的元件分離\n/* eslint-disable no-new */\nVue.filter('currency',currencyFilter);\nVue.filter('toDate',toDate);\n\n// validator 自訂手機號碼檢查\nconst cellphone = {\n  validate: (value) => {\n    const reg = /^09[0-9]{8}$/;\n    return reg.test(value);\n  },\n};\nValidator.extend('cellphone', cellphone);\n\n\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\nrouter.beforeEach((to, from, next) => {\n  //設定導航守衛，避免使用者在沒登入的狀態下，直接進入後台\n  if(to.meta.requiresAuth){ \n    //在 to(指定要到的路徑下)，如果指定到的路徑下有設定 meta.requiresAuth，進入後端驗證\n    const api = `${process.env.APIPATH}/api/user/check`;\n    axios.post(api).then((response) => {\n    //因為不是在 component 的資料夾下，不能使用 this.$http，改用 axios\n      console.log(response.data);\n      if(response.data.success){ //登入成功後，跳轉到原來要去的路徑\n        next();\n      }else{\n        next({\n          path: '/login', //登入沒成功，回到原來的登入頁面\n        });\n      }\n    });\n  }else{//如果沒有 meta.requiresAuth，直接到指定路徑\n    next();\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default function (num) {\r\n  const n = Number(num);\r\n  return `$${n.toFixed(0).replace(/./g, (c, i, a) => {\r\n    const currency = (i && c !== '.' && ((a.length - i) % 3 === 0) ? `, ${c}`.replace(/\\s/g, '') : c);\r\n    return currency;\r\n  })}`;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/filter/Currency.js","export default function (time) {\r\n  if(time){\r\n    const date = new Date(time * 1000);\r\n    return `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`;\r\n  }else{\r\n    return \"\";\r\n  }\r\n  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/filter/toDate.js"],"sourceRoot":""}